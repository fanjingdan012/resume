<!DOCTYPE html>
<html>

<head>
  <script src="./js/react.js"></script>
  <script src="./js/react-dom.js"></script>
  <script src="./js/browser.min.js"></script>

</head>

<body>
  <div id="example"></div>
  <script type="text/babel">
   Date.prototype.Format = function (formatStr) {
    var str = formatStr;
    var Week = ['日', '一', '二', '三', '四', '五', '六'];

    str = str.replace(/yyyy|YYYY/, this.getFullYear());
    str = str.replace(/yy|YY/, (this.getYear() % 100) > 9 ? (this.getYear() % 100).toString() : '0' + (this.getYear() % 100));

    str = str.replace(/MM/, this.getMonth() > 9 ? (this.getMonth() + 1).toString() : '0' + (this.getMonth() + 1));
    str = str.replace(/M/g, this.getMonth());

    str = str.replace(/w|W/g, Week[this.getDay()]);

    str = str.replace(/dd|DD/, this.getDate() > 9 ? this.getDate().toString() : '0' + this.getDate());
    str = str.replace(/d|D/g, this.getDate());

    str = str.replace(/hh|HH/, this.getHours() > 9 ? this.getHours().toString() : '0' + this.getHours());
    str = str.replace(/h|H/g, this.getHours());
    str = str.replace(/mm/, this.getMinutes() > 9 ? this.getMinutes().toString() : '0' + this.getMinutes());
    str = str.replace(/m/g, this.getMinutes());

    str = str.replace(/ss|SS/, this.getSeconds() > 9 ? this.getSeconds().toString() : '0' + this.getSeconds());
    str = str.replace(/s|S/g, this.getSeconds());

    return str;
  }
  // pwd = new Base64.encode("Dljs122220190423")
  // console.log(pwd);
  var dateStr = new Date().Format("yyyyMMdd");
  console.log(dateStr);
  var Input = React.createClass({
    getInitialState: function() {
      return {value: 'input your pwd', result:''};
    },
    handleChange: function(event) {
      this.setState({value: event.target.value,result:'https://fanjingdan012.github.io/resume/index.html?lang=zh&pwd='+ window.btoa(event.target.value+dateStr)});
    },
    render: function () {
      var value = this.state.value;
      var result = this.state.result;
      return (
        <div>
          <h1>Powered by React js</h1>
          <input type="text" value={value} onChange={this.handleChange} />
          <br/>
          <a href={result}>{result}</a>
        </div>
      );
    }
  });

  ReactDOM.render(<Input/>, document.getElementById('example'));
  </script>
</body>

</html>